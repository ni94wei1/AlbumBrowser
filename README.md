# 个人相册浏览器

一个简单但功能强大的个人相册浏览系统，允许您通过网页浏览本地照片，支持多设备访问，并提供目录管理、照片预览和下载功能。

## 功能特点

- 📁 **目录管理**：添加、删除和选择不同的照片目录
- 📷 **照片浏览**：网格布局展示照片缩略图，支持响应式设计
- 🔍 **搜索功能**：快速搜索照片文件名称
- 🖼️ **大图预览**：点击照片查看大图，支持键盘导航，优化的图片缩放体验
- 📐 **图片缩放优化**：基于百分比的缩放方式，确保不同分辨率图片的放大效果一致，缩放比例调整为更舒适的1.2倍
- 💾 **照片下载**：方便地下载原始照片文件
- 📱 **响应式设计**：适配手机和电脑等不同设备
- ⚡ **缓存优化**：缩略图和照片列表缓存，提升浏览体验

## 技术栈

- **服务端**：Python + Flask
- **前端**：HTML, JavaScript, Tailwind CSS, Font Awesome
- **图像处理**：Pillow

## 安装指南

### 1. 确保已安装Python

请确保您的系统已安装Python 3.7或更高版本。您可以通过以下命令检查Python版本：

```bash
python --version
```

### 2. 克隆或下载项目

将项目文件保存到您的本地计算机。

### 3. 安装依赖

在项目根目录下运行以下命令安装所需依赖：

```bash
pip install -r requirements.txt
```

## 使用说明

### 1. 启动服务

在项目根目录下运行以下命令启动Flask服务：

```bash
python app.py
```

服务启动后，您可以通过浏览器访问 `http://localhost:5000` 来使用相册浏览器。

### 2. 配置照片目录

1. 点击页面顶部的"选择目录"按钮
2. 在弹出的模态框中点击"添加新目录"
3. 输入您想要浏览的照片目录的完整路径
4. 点击"保存"按钮

**注意**：服务需要有足够的权限访问您指定的目录。

### 3. 浏览照片

- 选择目录后，系统会自动加载该目录下的所有照片
- 照片将以网格形式展示缩略图
- 您可以通过下拉菜单选择不同的排序方式
- 点击缩略图查看大图
- 使用键盘的左/右箭头键在大图模式下切换照片
- 点击下载按钮或按"D"键下载当前照片

### 4. 搜索照片

- 在顶部的搜索框中输入关键词
- 按回车键执行搜索
- 在搜索结果模态框中点击照片查看大图

## 生产环境部署

在生产环境中，建议使用WSGI服务器（如Gunicorn、uWSGI）来运行应用，而不是使用Flask内置的开发服务器。

### 使用Gunicorn部署示例：

1. 安装Gunicorn：

```bash
pip install gunicorn
```

2. 运行服务：

```bash
gunicorn -w 4 -b 0.0.0.0:5000 app:app
```

## 安全注意事项

- 默认配置下，服务会监听所有网络接口（0.0.0.0），请确保在公共网络环境中适当配置防火墙
- 系统会验证访问的文件是否在配置的目录内，防止未授权访问
- 建议在生产环境中使用HTTPS

## 常见问题

1. **为什么我看不到照片？**
   - 请确保您添加的目录存在且包含支持的图片格式
   - 请检查服务是否有足够的权限访问该目录

2. **支持哪些图片格式？**
   - 系统支持常见的图片格式，包括：JPG、JPEG、PNG、GIF、BMP、WebP

3. **如何在局域网内的其他设备上访问？**
   - 确保服务监听的是0.0.0.0而不是127.0.0.1
   - 在其他设备上使用运行服务的计算机的IP地址和端口访问

## License

MIT